var f=Object.defineProperty;var l=(n,t,e)=>t in n?f(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var r=(n,t,e)=>l(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const h of i)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const h={};return i.integrity&&(h.integrity=i.integrity),i.referrerPolicy&&(h.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?h.credentials="include":i.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(i){if(i.ep)return;i.ep=!0;const h=e(i);fetch(i.href,h)}})();class a{constructor(t,e){r(this,"x",0);r(this,"y",0);this.x=t,this.y=e}}class d{constructor(t,e){r(this,"x",0);r(this,"y",0);r(this,"w",0);r(this,"h",0);r(this,"r",0);r(this,"color","");r(this,"name","H");r(this,"mergedName","H2");r(this,"isMergedFlag",!1);r(this,"vx",0);r(this,"vy",0);this.sw=t,this.sh=e}initializeDrawingProperties(t){const s=document.createElement("canvas").getContext("2d");if(!s)throw new Error("Failed to get canvas 2D context");const i=24*this.getScale();s.font=`${i}px sans-serif`;const h=s.measureText(this.getName()).width;this.x=t.x,this.y=t.y,this.w=h,this.h=h,this.r=h/2,this.color=this.getColor()}getName(){return this.isMergedFlag?this.mergedName:this.name}getColor(){return this.isMergedFlag?this.color:`#${Math.random().toString(16).slice(-6)}`}getScale(){return this.sw<768?1:1.2}render(t){t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.color,t.shadowColor="#888",t.shadowOffsetX=1,t.shadowOffsetY=1,t.shadowBlur=1;const e=24*this.getScale();if(t.font=`${e}px sans-serif`,this.isMergedFlag){t.fillText("H",this.x-this.w/2,this.y);const s=18*this.getScale();t.font=`${s}px sans-serif`,t.fillText("2",this.x,this.y+2);return}t.fillText(this.getName(),this.x,this.y)}updatePosition(){const t=2*Math.PI*Math.random(),e=.075;this.vx+=e*Math.cos(t),this.vy+=e*Math.sin(t);const s=1.05,i=Math.sqrt(this.vx**2+this.vy**2);i>s&&(this.vx=this.vx/i*s,this.vy=this.vy/i*s),this.x+=this.vx,this.y+=this.vy,this.x>this.sw+this.w/2&&(this.x=-(this.w/2)),this.x+this.w<0&&(this.x=this.sw+this.w/2),this.y>this.sh+this.h/2&&(this.y=-(this.h/2)),this.y+this.h<0&&(this.y=this.sh+this.h/2)}isHit(t){if(t.isMerged())return!1;const e=t.x-this.x,s=t.y-this.y,i=Math.sqrt(e*e+s*s),h=this.r+t.r;return i<h}isMerged(){return this.isMergedFlag}mergeAndRender(t,e){this.isMergedFlag=!0,this.initializeDrawingProperties(e),this.render(t)}}class u{constructor(t,e){r(this,"x",0);r(this,"y",0);r(this,"w",0);r(this,"h",0);r(this,"r",0);r(this,"isDeletedFlag",!1);this.sw=t,this.sh=e}initializeDrawingProperties(t){const e=(Math.random()*10+18)*this.getScale();this.x=t.x,this.y=t.y,this.w=e,this.h=e}getScale(){return this.sw<768?1:1.2}updatePosition(){const t=Math.random()*5;this.x+=Math.cos((this.y+t)/100),this.y+=this.w*.1,this.y>=this.sh&&(this.isDeletedFlag=!0)}render(t){const e=this.w*.4,s=this.x-e,i=this.y-e,h=this.w/2+e,o=t.createRadialGradient(s,i,0,s,i,h);o.addColorStop(0,"rgba(255, 255, 255, 0.6)"),o.addColorStop(1,"rgba(0, 127, 255, 1)"),t.beginPath(),t.arc(this.x,this.y,this.w/2,0,Math.PI*2,!0),t.shadowColor="#007fff",t.shadowOffsetX=1,t.shadowOffsetY=1,t.fillStyle=o,t.fill(),t.closePath()}isDeleted(){return this.isDeletedFlag}}class w{constructor(t,e){r(this,"x",0);r(this,"y",0);r(this,"w",0);r(this,"h",0);r(this,"r",0);r(this,"color","");r(this,"name","O");r(this,"vx",0);r(this,"vy",0);this.sw=t,this.sh=e}initializeDrawingProperties(t){const s=document.createElement("canvas").getContext("2d");if(!s)throw new Error("Failed to get canvas 2D context");const i=24*this.getScale();s.font=`${i}px sans-serif`;const h=s.measureText(this.getName()).width;this.x=t.x,this.y=t.y,this.w=h,this.h=h,this.r=h/2,this.color=this.getColor()}getName(){return this.name}getColor(){return`#${Math.random().toString(16).slice(-6)}`}getScale(){return this.sw<768?1:1.2}updatePosition(){const t=2*Math.PI*Math.random(),e=.075;this.vx+=e*Math.cos(t),this.vy+=e*Math.sin(t);const s=1.05,i=Math.sqrt(this.vx**2+this.vy**2);i>s&&(this.vx=this.vx/i*s,this.vy=this.vy/i*s),this.x+=this.vx,this.y+=this.vy,this.x>this.sw+this.w/2&&(this.x=-(this.w/2)),this.x+this.w<0&&(this.x=this.sw+this.w/2),this.y>this.sh+this.h/2&&(this.y=-(this.h/2)),this.y+this.h<0&&(this.y=this.sh+this.h/2)}render(t){t.textAlign="center",t.textBaseline="middle";const e=24*this.getScale();t.font=`${e}px sans-serif`,t.fillStyle=this.color,t.shadowColor="#888",t.shadowOffsetX=1,t.shadowOffsetY=1,t.shadowBlur=1,t.fillText(this.getName(),this.x,this.y)}isHit(t){if(!t.isMerged())return!1;const e=t.x-this.x,s=t.y-this.y,i=Math.sqrt(e*e+s*s),h=this.r+t.r;return i<h}}class g{constructor(){r(this,"h",[]);r(this,"o",[]);r(this,"h2o",[]);r(this,"cw");r(this,"ch");r(this,"ctx");r(this,"bufferCanvas");r(this,"bufferCtx");const t=document.querySelector("#myCanvas");if(!t)throw new Error("Canvas element not found");t.width=window.innerWidth,t.height=window.innerHeight,this.cw=t.width,this.ch=t.height;const e=t.getContext("2d");if(!e)throw new Error("Canvas context not available");this.ctx=e,this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=this.cw,this.bufferCanvas.height=this.ch;const s=this.bufferCanvas.getContext("2d");if(!s)throw new Error("Buffer canvas context not available");this.bufferCtx=s}init(t,e){for(let s=0;s<t;s++)this.h.push(this.createHAtom());for(let s=0;s<e;s++)this.o.push(this.createOAtom())}renderFrame(){this.bufferCtx.fillStyle="#fff",this.bufferCtx.fillRect(0,0,this.cw,this.ch),this.renderH(this.h),this.renderO(this.o,this.h,this.h2o),this.renderH2o(this.h2o),this.ctx.drawImage(this.bufferCanvas,0,0)}getScale(){return this.cw<768?1:this.cw>=768&&this.cw<1280?1.2:1.5}createHAtom(){const t=this.cw*Math.random(),e=this.ch*Math.random(),s=new d(this.cw,this.ch);return s.initializeDrawingProperties(new a(t,e)),s}createOAtom(){const t=this.cw*Math.random(),e=this.ch*Math.random(),s=new w(this.cw,this.ch);return s.initializeDrawingProperties(new a(t,e)),s}createH2oAtom(t){const e=new u(this.cw,this.ch);return e.initializeDrawingProperties(t),e}renderH(t){for(let e=0;e<t.length;e++){const s=t[e];if(s.updatePosition(),s.render(this.bufferCtx),!s.isMerged())for(let i=e+1;i<t.length;i++){const h=t[i];if(s.isHit(h)){s.mergeAndRender(this.bufferCtx,new a(s.x,s.y)),t[i]=this.createHAtom();break}}}}renderO(t,e,s){for(const i of t){i.updatePosition(),i.render(this.bufferCtx);for(const h of e){if(!i.isHit(h))continue;const o=t.indexOf(i);o>=0&&(t[o]=this.createOAtom());const c=e.indexOf(h);c>=0&&(e[c]=this.createHAtom()),s.push(this.createH2oAtom(new a(i.x,i.y)))}}}renderH2o(t){for(let e=t.length-1;e>=0;e--){const s=t[e];if(s.updatePosition(),s.isDeleted()){t.splice(e,1);continue}s.render(this.bufferCtx)}}}document.addEventListener("DOMContentLoaded",()=>{const n=new g,t=n.getScale();n.init(30*t,50*t);const e=()=>{n.renderFrame(),requestAnimationFrame(e)};e()});
